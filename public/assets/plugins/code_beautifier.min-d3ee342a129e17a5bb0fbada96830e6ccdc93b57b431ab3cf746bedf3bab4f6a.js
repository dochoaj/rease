/*!
 * froala_editor v2.0.1 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(e){"function"==typeof define&&define.amd?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){"use strict";e.FroalaEditor.PLUGINS.codeBeautifier=function(){function e(e,n){function i(e){return e.replace(/^\s+/g,"")}function a(e){return e.replace(/\s+$/g,"")}function r(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=l,this.Utils={whitespace:"\n\r	 ".split(""),single_token:"br,input,link,meta,source,!doctype,basefont,base,area,hr,wbr,param,img,isindex,embed".split(","),extra_liners:b,in_array:function(e,t){for(var n=0;n<t.length;n++)if(e==t[n])return!0;return!1}},this.is_whitespace=function(e){for(var t=0;t<e.length;e++)if(!this.Utils.in_array(e.charAt(t),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var e="";if(e=this.input.charAt(this.pos),this.Utils.in_array(e,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(e,this.Utils.whitespace);)p&&"\n"==e&&this.newlines<=g&&(this.newlines+=1),this.pos++,e=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function(e){this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,e),this.print_indentation(e)):(this.line_char_count++,e.push(" "))},this.get_content=function(){for(var e="",t=[];"<"!=this.input.charAt(this.pos);){if(this.pos>=this.input.length)return t.length?t.join(""):["","TK_EOF"];if(this.traverse_whitespace())this.space_or_wrap(t);else{if(m){var n=this.input.substr(this.pos,3);if("{{#"==n||"{{/"==n)break;if("{{!"==n)return[this.get_tag(),"TK_TAG_HANDLEBARS_COMMENT"];if("{{"==this.input.substr(this.pos,2)&&"{{else}}"==this.get_tag(!0))break}e=this.input.charAt(this.pos),this.pos++,this.line_char_count++,t.push(e)}}return t.length?t.join(""):""},this.get_contents_to=function(e){if(this.pos==this.input.length)return["","TK_EOF"];var t="",n=new RegExp("</"+e+"\\s*>","igm");n.lastIndex=this.pos;var i=n.exec(this.input),a=i?i.index:this.input.length;return this.pos<a&&(t=this.input.substring(this.pos,a),this.pos=a),t},this.record_tag=function(e){this.tags[e+"count"]?(this.tags[e+"count"]++,this.tags[e+this.tags[e+"count"]]=this.indent_level):(this.tags[e+"count"]=1,this.tags[e+this.tags[e+"count"]]=this.indent_level),this.tags[e+this.tags[e+"count"]+"parent"]=this.tags.parent,this.tags.parent=e+this.tags[e+"count"]},this.retrieve_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!=t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]],this.tags.parent=this.tags[t+"parent"]),delete this.tags[e+this.tags[e+"count"]+"parent"],delete this.tags[e+this.tags[e+"count"]],1==this.tags[e+"count"]?delete this.tags[e+"count"]:this.tags[e+"count"]--}},this.indent_to_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!=t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]])}},this.get_tag=function(e){var t,n,i,a="",o=[],r="",s=!1,l=!0,c=this.pos,u=this.line_char_count;e=void 0!==e?e:!1;do{if(this.pos>=this.input.length)return e&&(this.pos=c,this.line_char_count=u),o.length?o.join(""):["","TK_EOF"];if(a=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(a,this.Utils.whitespace))s=!0;else{if(("'"==a||'"'==a)&&(a+=this.get_unformatted(a),s=!0),"="==a&&(s=!1),o.length&&"="!=o[o.length-1]&&">"!=a&&s){if(this.space_or_wrap(o),s=!1,!l&&"force"==v&&"/"!=a){this.print_newline(!0,o),this.print_indentation(o);for(var f=0;y>f;f++)o.push(d)}for(var p=0;p<o.length;p++)if(" "==o[p]){l=!1;break}}if(m&&"<"==i&&a+this.input.charAt(this.pos)=="{{"&&(a+=this.get_unformatted("}}"),o.length&&" "!=o[o.length-1]&&"<"!=o[o.length-1]&&(a=" "+a),s=!0),"<"!=a||i||(t=this.pos-1,i="<"),m&&!i&&o.length>=2&&"{"==o[o.length-1]&&"{"==o[o.length-2]&&(t="#"==a||"/"==a||"!"==a?this.pos-3:this.pos-2,i="{"),this.line_char_count++,o.push(a),o[1]&&("!"==o[1]||"?"==o[1]||"%"==o[1])){o=[this.get_comment(t)];break}if(m&&o[1]&&"{"==o[1]&&o[2]&&"!"==o[2]){o=[this.get_comment(t)];break}if(m&&"{"==i&&o.length>2&&"}"==o[o.length-2]&&"}"==o[o.length-1])break}}while(">"!=a);var g,w,b=o.join("");g=-1!=b.indexOf(" ")?b.indexOf(" "):"{"==b[0]?b.indexOf("}"):b.indexOf(">"),w="<"!=b[0]&&m?"#"==b[2]?3:2:1;var k=b.substring(w,g).toLowerCase();return"/"==b.charAt(b.length-2)||this.Utils.in_array(k,this.Utils.single_token)?e||(this.tag_type="SINGLE"):m&&"{"==b[0]&&"else"==k?e||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(k,h)?(r=this.get_unformatted("</"+k+">",b),o.push(r),n=this.pos-1,this.tag_type="SINGLE"):"script"==k&&(-1==b.search("type")||b.search("type")>-1&&b.search(/\b(text|application)\/(x-)?(javascript|ecmascript|jscript|livescript)/)>-1)?e||(this.record_tag(k),this.tag_type="SCRIPT"):"style"==k&&(-1==b.search("type")||b.search("type")>-1&&b.search("text/css")>-1)?e||(this.record_tag(k),this.tag_type="STYLE"):"!"==k.charAt(0)?e||(this.tag_type="SINGLE",this.traverse_whitespace()):e||("/"==k.charAt(0)?(this.retrieve_tag(k.substring(1)),this.tag_type="END"):(this.record_tag(k),"html"!=k.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(o),this.Utils.in_array(k,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!=this.output[this.output.length-2]&&this.print_newline(!0,this.output))),e&&(this.pos=c,this.line_char_count=u),o.join("")},this.get_comment=function(e){var t="",n=">",i=!1;this.pos=e;var a=this.input.charAt(this.pos);for(this.pos++;this.pos<=this.input.length&&(t+=a,t[t.length-1]!=n[n.length-1]||-1==t.indexOf(n));)!i&&t.length<10&&(0===t.indexOf("<![if")?(n="<![endif]>",i=!0):0===t.indexOf("<![cdata[")?(n="]]>",i=!0):0===t.indexOf("<![")?(n="]>",i=!0):0===t.indexOf("<!--")?(n="-->",i=!0):0===t.indexOf("{{!")?(n="}}",i=!0):0===t.indexOf("<?")?(n="?>",i=!0):0===t.indexOf("<%")&&(n="%>",i=!0)),a=this.input.charAt(this.pos),this.pos++;return t},this.get_unformatted=function(e,t){if(t&&-1!=t.toLowerCase().indexOf(e))return"";var n="",i="",a=0,o=!0;do{if(this.pos>=this.input.length)return i;if(n=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(n,this.Utils.whitespace)){if(!o){this.line_char_count--;continue}if("\n"==n||"\r"==n){i+="\n",this.line_char_count=0;continue}}i+=n,this.line_char_count++,o=!0,m&&"{"==n&&i.length&&"{"==i[i.length-2]&&(i+=this.get_unformatted("}}"),a=i.length)}while(-1==i.toLowerCase().indexOf(e,a));return i},this.get_token=function(){var e;if("TK_TAG_SCRIPT"==this.last_token||"TK_TAG_STYLE"==this.last_token){var t=this.last_token.substr(7);return e=this.get_contents_to(t),"string"!=typeof e?e:[e,"TK_"+t]}if("CONTENT"==this.current_mode)return e=this.get_content(),"string"!=typeof e?e:[e,"TK_CONTENT"];if("TAG"==this.current_mode){if(e=this.get_tag(),"string"!=typeof e)return e;var n="TK_TAG_"+this.tag_type;return[e,n]}},this.get_full_indent=function(e){return e=this.indent_level+e||0,1>e?"":new Array(e+1).join(this.indent_string)},this.is_unformatted=function(e,t){if(!this.Utils.in_array(e,t))return!1;if("a"!=e.toLowerCase()||!this.Utils.in_array("a",t))return!0;var n=this.get_tag(!0),i=(n||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!i||this.Utils.in_array(i,t)?!0:!1},this.printer=function(e,t,n,o,r){this.input=e||"",this.output=[],this.indent_character=t,this.indent_string="",this.indent_size=n,this.brace_style=r,this.indent_level=0,this.wrap_line_length=o,this.line_char_count=0;for(var s=0;s<this.indent_size;s++)this.indent_string+=this.indent_character;this.print_newline=function(e,t){this.line_char_count=0,t&&t.length&&(e||"\n"!=t[t.length-1])&&("\n"!=t[t.length-1]&&(t[t.length-1]=a(t[t.length-1])),t.push("\n"))},this.print_indentation=function(e){for(var t=0;t<this.indent_level;t++)e.push(this.indent_string),this.line_char_count+=this.indent_string.length},this.print_token=function(e){(!this.is_whitespace(e)||this.output.length)&&((e||""!==e)&&this.output.length&&"\n"==this.output[this.output.length-1]&&(this.print_indentation(this.output),e=i(e)),this.print_token_raw(e))},this.print_token_raw=function(e){this.newlines>0&&(e=a(e)),e&&""!==e&&(e.length>1&&"\n"==e[e.length-1]?(this.output.push(e.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(e));for(var t=0;t<this.newlines;t++)this.print_newline(t>0,this.output);this.newlines=0},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this}var s,l,c,d,u,f,h,p,g,m,v,y,w,b;for(n=n||{},void 0!==n.wrap_line_length&&0!==parseInt(n.wrap_line_length,10)||void 0===n.max_char||0===parseInt(n.max_char,10)||(n.wrap_line_length=n.max_char),l=void 0===n.indent_inner_html?!1:n.indent_inner_html,c=void 0===n.indent_size?4:parseInt(n.indent_size,10),d=void 0===n.indent_char?" ":n.indent_char,f=void 0===n.brace_style?"collapse":n.brace_style,u=0===parseInt(n.wrap_line_length,10)?32786:parseInt(n.wrap_line_length||250,10),h=n.unformatted||["a","span","img","bdo","em","strong","dfn","code","samp","kbd","var","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","address","dt","pre"],p=void 0===n.preserve_newlines?!0:n.preserve_newlines,g=p?isNaN(parseInt(n.max_preserve_newlines,10))?32786:parseInt(n.max_preserve_newlines,10):0,m=void 0===n.indent_handlebars?!1:n.indent_handlebars,v=void 0===n.wrap_attributes?"auto":n.wrap_attributes,y=void 0===n.wrap_attributes_indent_size?c:parseInt(n.wrap_attributes_indent_size,10)||c,w=void 0===n.end_with_newline?!1:n.end_with_newline,b=Array.isArray(n.extra_liners)?n.extra_liners.concat():"string"==typeof n.extra_liners?n.extra_liners.split(","):"head,body,/html".split(","),n.indent_with_tabs&&(d="	",c=1),s=new r,s.printer(e,d,c,u,f);;){var k=s.get_token();if(s.token_text=k[0],s.token_type=k[1],"TK_EOF"==s.token_type)break;switch(s.token_type){case"TK_TAG_START":s.print_newline(!1,s.output),s.print_token(s.token_text),s.indent_content&&(s.indent(),s.indent_content=!1),s.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":s.print_newline(!1,s.output),s.print_token(s.token_text),s.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"==s.last_token&&""===s.last_text){var S=s.token_text.match(/\w+/)[0],C=null;s.output.length&&(C=s.output[s.output.length-1].match(/(?:<|{{#)\s*(\w+)/)),(null==C||C[1]!=S&&!s.Utils.in_array(C[1],h))&&s.print_newline(!1,s.output)}s.print_token(s.token_text),s.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var _=s.token_text.match(/^\s*<([a-z-]+)/i);_&&s.Utils.in_array(_[1],h)||s.print_newline(!1,s.output),s.print_token(s.token_text),s.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":s.print_token(s.token_text),s.indent_content&&(s.indent(),s.indent_content=!1),s.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_COMMENT":s.print_token(s.token_text),s.current_mode="TAG";break;case"TK_CONTENT":s.print_token(s.token_text),s.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==s.token_text){s.print_newline(!1,s.output);var E,T=s.token_text,A=1;"TK_SCRIPT"==s.token_type?E="function"==typeof o&&o:"TK_STYLE"==s.token_type&&(E="function"==typeof t&&t),"keep"==n.indent_scripts?A=0:"separate"==n.indent_scripts&&(A=-s.indent_level);var F=s.get_full_indent(A);if(E)T=E(T.replace(/^\s*/,F),n);else{var x=T.match(/^\s*/)[0],D=x.match(/[^\n\r]*$/)[0].split(s.indent_string).length-1,I=s.get_full_indent(A-D);T=T.replace(/^\s*/,F).replace(/\r\n|\r|\n/g,"\n"+I).replace(/\s+$/,"")}T&&(s.print_token_raw(T),s.print_newline(!0,s.output))}s.current_mode="TAG";break;default:""!==s.token_text&&s.print_token(s.token_text)}s.last_token=s.token_type,s.last_text=s.token_text}var z=s.output.join("").replace(/[\r\n\t ]+$/,"");return w&&(z+="\n"),z}function t(e,n){function i(){return b=e.charAt(++S),b||""}function a(t){var n="",a=S;return t&&s(),n=e.charAt(S+1)||"",S=a-1,i(),n}function o(t){for(var n=S;i();)if("\\"===b)i();else{if(-1!==t.indexOf(b))break;if("\n"===b)break}return e.substring(n,S+1)}function r(e){var t=S,n=o(e);return S=t-1,i(),n}function s(){for(var e="";k.test(a());)i(),e+=b;return e}function l(){var e="";for(b&&k.test(b)&&(e=b);k.test(i());)e+=b;return e}function c(t){var n=S;for(t="/"===a(),i();i();){if(!t&&"*"===b&&"/"===a()){i();break}if(t&&"\n"===b)return e.substring(n,S)}return e.substring(n,S)+b}function d(t){return e.substring(S-t.length,S).toLowerCase()===t}function u(){for(var t=0,n=S+1;n<e.length;n++){var i=e.charAt(n);if("{"===i)return!0;if("("===i)t+=1;else if(")"===i){if(0==t)return!1;t-=1}else if(";"===i||"}"===i)return!1}return!1}function f(){T++,_+=E}function h(){T--,_=_.slice(0,-p)}n=n||{},e=e||"",e=e.replace(/\r\n|[\r\u2028\u2029]/g,"\n");var p=n.indent_size||4,g=n.indent_char||" ",m=void 0===n.selector_separator_newline?!0:n.selector_separator_newline,v=void 0===n.end_with_newline?!1:n.end_with_newline,y=void 0===n.newline_between_rules?!0:n.newline_between_rules,w=n.eol?n.eol:"\n";"string"==typeof p&&(p=parseInt(p,10)),n.indent_with_tabs&&(g="	",p=1),w=w.replace(/\\r/,"\r").replace(/\\n/,"\n");var b,k=/^\s+$/,S=-1,C=0,_=e.match(/^[\t ]*/)[0],E=new Array(p+1).join(g),T=0,A=0,F={};F["{"]=function(e){F.singleSpace(),x.push(e),F.newLine()},F["}"]=function(e){F.newLine(),x.push(e),F.newLine()},F._lastCharWhitespace=function(){return k.test(x[x.length-1])},F.newLine=function(e){x.length&&(e||"\n"===x[x.length-1]||F.trim(),x.push("\n"),_&&x.push(_))},F.singleSpace=function(){x.length&&!F._lastCharWhitespace()&&x.push(" ")},F.preserveSingleSpace=function(){N&&F.singleSpace()},F.trim=function(){for(;F._lastCharWhitespace();)x.pop()};for(var x=[],D=!1,I=!1,z=!1,L="",R="";;){var j=l(),N=""!==j,M=-1!==j.indexOf("\n");if(R=L,L=b,!b)break;if("/"===b&&"*"===a()){var O=0===T;(M||O)&&F.newLine(),x.push(c()),F.newLine(),O&&F.newLine(!0)}else if("/"===b&&"/"===a())M||"{"===R||F.trim(),F.singleSpace(),x.push(c()),F.newLine();else if("@"===b){F.preserveSingleSpace(),x.push(b);var U=r(": ,;{}()[]/='\"");U.match(/[ :]$/)&&(i(),U=o(": ").replace(/\s$/,""),x.push(U),F.singleSpace()),U=U.replace(/\s$/,""),U in t.NESTED_AT_RULE&&(A+=1,U in t.CONDITIONAL_GROUP_RULE&&(z=!0))}else"#"===b&&"{"===a()?(F.preserveSingleSpace(),x.push(o("}"))):"{"===b?"}"===a(!0)?(s(),i(),F.singleSpace(),x.push("{}"),F.newLine(),y&&0===T&&F.newLine(!0)):(f(),F["{"](b),z?(z=!1,D=T>A):D=T>=A):"}"===b?(h(),F["}"](b),D=!1,I=!1,A&&A--,y&&0===T&&F.newLine(!0)):":"===b?(s(),!D&&!z||d("&")||u()?":"===a()?(i(),x.push("::")):x.push(":"):(I=!0,x.push(":"),F.singleSpace())):'"'===b||"'"===b?(F.preserveSingleSpace(),x.push(o(b))):";"===b?(I=!1,x.push(b),F.newLine()):"("===b?d("url")?(x.push(b),s(),i()&&(")"!==b&&'"'!==b&&"'"!==b?x.push(o(")")):S--)):(C++,F.preserveSingleSpace(),x.push(b),s()):")"===b?(x.push(b),C--):","===b?(x.push(b),s(),m&&!I&&1>C?F.newLine():F.singleSpace()):"]"===b?x.push(b):"["===b?(F.preserveSingleSpace(),x.push(b)):"="===b?(s(),b="=",x.push(b)):(F.preserveSingleSpace(),x.push(b))}var B="";return _&&(B+=_),B+=x.join("").replace(/[\r\n\t ]+$/,""),v&&(B+="\n"),"\n"!=w&&(B=B.replace(/[\n]/g,w)),B}function n(e,t){for(var n=0;n<t.length;n+=1)if(t[n]===e)return!0;return!1}function i(e){return e.replace(/^\s+|\s+$/g,"")}function a(e){return e.replace(/^\s+/g,"")}function o(e,t){var n=new r(e,t);return n.beautify()}function r(e,t){function o(e,t){var n=0;e&&(n=e.indentation_level,!H.just_added_newline()&&e.line_indent_level>n&&(n=e.line_indent_level));var i={mode:t,parent:e,last_text:e?e.last_text:"",last_word:e?e.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,line_indent_level:e?e.line_indent_level:n,start_line_index:H.get_line_number(),ternary_depth:0};return i}function r(e){var t=e.newlines,n=ee.keep_array_indentation&&y(Y.mode);if(n)for(i=0;t>i;i+=1)f(i>0);else if(ee.max_preserve_newlines&&t>ee.max_preserve_newlines&&(t=ee.max_preserve_newlines),ee.preserve_newlines&&e.newlines>1){f();for(var i=1;t>i;i+=1)f(!0)}V=e,J[V.type]()}function s(e){e=e.replace(/\x0d/g,"");for(var t=[],n=e.indexOf("\n");-1!==n;)t.push(e.substring(0,n)),e=e.substring(n+1),n=e.indexOf("\n");return e.length&&t.push(e),t}function u(e){if(e=void 0===e?!1:e,!H.just_added_newline())if(ee.preserve_newlines&&V.wanted_newline||e)f(!1,!0);else if(ee.wrap_line_length){var t=H.current_line.get_character_count()+V.text.length+(H.space_before_token?1:0);t>=ee.wrap_line_length&&f(!1,!0)}}function f(e,t){if(!t&&";"!==Y.last_text&&","!==Y.last_text&&"="!==Y.last_text&&"TK_OPERATOR"!==W)for(;Y.mode===d.Statement&&!Y.if_block&&!Y.do_block;)b();H.add_new_line(e)&&(Y.multiline_frame=!0)}function h(){H.just_added_newline()&&(ee.keep_array_indentation&&y(Y.mode)&&V.wanted_newline?(H.current_line.push(V.whitespace_before),H.space_before_token=!1):H.set_indent(Y.indentation_level)&&(Y.line_indent_level=Y.indentation_level))}function p(e){return H.raw?void H.add_raw_token(V):(ee.comma_first&&"TK_COMMA"===W&&H.just_added_newline()&&","===H.previous_line.last()&&(H.previous_line.pop(),h(),H.add_token(","),H.space_before_token=!0),e=e||V.text,h(),void H.add_token(e))}function g(){Y.indentation_level+=1}function m(){Y.indentation_level>0&&(!Y.parent||Y.indentation_level>Y.parent.indentation_level)&&(Y.indentation_level-=1)}function v(e){Y?(X.push(Y),Z=Y):Z=o(null,e),Y=o(Z,e)}function y(e){return e===d.ArrayLiteral}function w(e){return n(e,[d.Expression,d.ForInitializer,d.Conditional])}function b(){X.length>0&&(Z=Y,Y=X.pop(),Z.mode===d.Statement&&H.remove_redundant_indentation(Z))}function k(){return Y.parent.mode===d.ObjectLiteral&&Y.mode===d.Statement&&(":"===Y.last_text&&0===Y.ternary_depth||"TK_RESERVED"===W&&n(Y.last_text,["get","set"]))}function S(){return"TK_RESERVED"===W&&n(Y.last_text,["var","let","const"])&&"TK_WORD"===V.type||"TK_RESERVED"===W&&"do"===Y.last_text||"TK_RESERVED"===W&&"return"===Y.last_text&&!V.wanted_newline||"TK_RESERVED"===W&&"else"===Y.last_text&&("TK_RESERVED"!==V.type||"if"!==V.text)||"TK_END_EXPR"===W&&(Z.mode===d.ForInitializer||Z.mode===d.Conditional)||"TK_WORD"===W&&Y.mode===d.BlockStatement&&!Y.in_case&&"--"!==V.text&&"++"!==V.text&&"function"!==G&&"TK_WORD"!==V.type&&"TK_RESERVED"!==V.type||Y.mode===d.ObjectLiteral&&(":"===Y.last_text&&0===Y.ternary_depth||"TK_RESERVED"===W&&n(Y.last_text,["get","set"]))?(v(d.Statement),g(),"TK_RESERVED"===W&&n(Y.last_text,["var","let","const"])&&"TK_WORD"===V.type&&(Y.declaration_statement=!0),k()||u("TK_RESERVED"===V.type&&n(V.text,["do","for","if","while"])),!0):!1}function C(e,t){for(var n=0;n<e.length;n++){var a=i(e[n]);if(a.charAt(0)!==t)return!1}return!0}function _(e,t){for(var n,i=0,a=e.length;a>i;i++)if(n=e[i],n&&0!==n.indexOf(t))return!1;return!0}function E(e){return n(e,["case","return","do","if","throw","else"])}function T(e){var t=$+(e||0);return 0>t||t>=te.length?null:te[t]}function A(){S();var e=d.Expression;if("["===V.text){if("TK_WORD"===W||")"===Y.last_text)return"TK_RESERVED"===W&&n(Y.last_text,K.line_starters)&&(H.space_before_token=!0),v(e),p(),g(),void(ee.space_in_paren&&(H.space_before_token=!0));e=d.ArrayLiteral,y(Y.mode)&&("["===Y.last_text||","===Y.last_text&&("]"===G||"}"===G))&&(ee.keep_array_indentation||f())}else"TK_RESERVED"===W&&"for"===Y.last_text?e=d.ForInitializer:"TK_RESERVED"===W&&n(Y.last_text,["if","while"])&&(e=d.Conditional);";"===Y.last_text||"TK_START_BLOCK"===W?f():"TK_END_EXPR"===W||"TK_START_EXPR"===W||"TK_END_BLOCK"===W||"."===Y.last_text?u(V.wanted_newline):"TK_RESERVED"===W&&"("===V.text||"TK_WORD"===W||"TK_OPERATOR"===W?"TK_RESERVED"===W&&("function"===Y.last_word||"typeof"===Y.last_word)||"*"===Y.last_text&&"function"===G?ee.space_after_anon_function&&(H.space_before_token=!0):"TK_RESERVED"!==W||!n(Y.last_text,K.line_starters)&&"catch"!==Y.last_text||ee.space_before_conditional&&(H.space_before_token=!0):H.space_before_token=!0,"("===V.text&&"TK_RESERVED"===W&&"await"===Y.last_word&&(H.space_before_token=!0),"("===V.text&&("TK_EQUALS"===W||"TK_OPERATOR"===W)&&(k()||u()),v(e),p(),ee.space_in_paren&&(H.space_before_token=!0),g()}function F(){for(;Y.mode===d.Statement;)b();Y.multiline_frame&&u("]"===V.text&&y(Y.mode)&&!ee.keep_array_indentation),ee.space_in_paren&&("TK_START_EXPR"!==W||ee.space_in_empty_paren?H.space_before_token=!0:(H.trim(),H.space_before_token=!1)),"]"===V.text&&ee.keep_array_indentation?(p(),b()):(b(),p()),H.remove_redundant_indentation(Z),Y.do_while&&Z.mode===d.Conditional&&(Z.mode=d.Expression,Y.do_block=!1,Y.do_while=!1)}function x(){var e=T(1),t=T(2);v(t&&(":"===t.text&&n(e.type,["TK_STRING","TK_WORD","TK_RESERVED"])||n(e.text,["get","set"])&&n(t.type,["TK_WORD","TK_RESERVED"]))?n(G,["class","interface"])?d.BlockStatement:d.ObjectLiteral:d.BlockStatement);var i=!e.comments_before.length&&"}"===e.text,a=i&&"function"===Y.last_word&&"TK_END_EXPR"===W;"expand"===ee.brace_style||"none"===ee.brace_style&&V.wanted_newline?"TK_OPERATOR"!==W&&(a||"TK_EQUALS"===W||"TK_RESERVED"===W&&E(Y.last_text)&&"else"!==Y.last_text)?H.space_before_token=!0:f(!1,!0):"TK_OPERATOR"!==W&&"TK_START_EXPR"!==W?"TK_START_BLOCK"===W?f():H.space_before_token=!0:y(Z.mode)&&","===Y.last_text&&("}"===G?H.space_before_token=!0:f()),p(),g()}function D(){for(;Y.mode===d.Statement;)b();var e="TK_START_BLOCK"===W;"expand"===ee.brace_style?e||f():e||(y(Y.mode)&&ee.keep_array_indentation?(ee.keep_array_indentation=!1,f(),ee.keep_array_indentation=!0):f()),b(),p()}function I(){if("TK_RESERVED"===V.type&&Y.mode!==d.ObjectLiteral&&n(V.text,["set","get"])&&(V.type="TK_WORD"),"TK_RESERVED"===V.type&&Y.mode===d.ObjectLiteral){var e=T(1);":"==e.text&&(V.type="TK_WORD")}if(S()||!V.wanted_newline||w(Y.mode)||"TK_OPERATOR"===W&&"--"!==Y.last_text&&"++"!==Y.last_text||"TK_EQUALS"===W||!ee.preserve_newlines&&"TK_RESERVED"===W&&n(Y.last_text,["var","let","const","set","get"])||f(),Y.do_block&&!Y.do_while){if("TK_RESERVED"===V.type&&"while"===V.text)return H.space_before_token=!0,p(),H.space_before_token=!0,void(Y.do_while=!0);f(),Y.do_block=!1}if(Y.if_block)if(Y.else_block||"TK_RESERVED"!==V.type||"else"!==V.text){for(;Y.mode===d.Statement;)b();Y.if_block=!1,Y.else_block=!1}else Y.else_block=!0;if("TK_RESERVED"===V.type&&("case"===V.text||"default"===V.text&&Y.in_case_statement))return f(),(Y.case_body||ee.jslint_happy)&&(m(),Y.case_body=!1),p(),Y.in_case=!0,void(Y.in_case_statement=!0);if("TK_RESERVED"===V.type&&"function"===V.text&&((n(Y.last_text,["}",";"])||H.just_added_newline()&&!n(Y.last_text,["[","{",":","=",","]))&&(H.just_added_blankline()||V.comments_before.length||(f(),f(!0))),"TK_RESERVED"===W||"TK_WORD"===W?"TK_RESERVED"===W&&n(Y.last_text,["get","set","new","return","export","async"])?H.space_before_token=!0:"TK_RESERVED"===W&&"default"===Y.last_text&&"export"===G?H.space_before_token=!0:f():"TK_OPERATOR"===W||"="===Y.last_text?H.space_before_token=!0:(Y.multiline_frame||!w(Y.mode)&&!y(Y.mode))&&f()),("TK_COMMA"===W||"TK_START_EXPR"===W||"TK_EQUALS"===W||"TK_OPERATOR"===W)&&(k()||u()),"TK_RESERVED"===V.type&&n(V.text,["function","get","set"]))return p(),void(Y.last_word=V.text);if(Q="NONE","TK_END_BLOCK"===W?"TK_RESERVED"===V.type&&n(V.text,["else","catch","finally"])?"expand"===ee.brace_style||"end-expand"===ee.brace_style||"none"===ee.brace_style&&V.wanted_newline?Q="NEWLINE":(Q="SPACE",H.space_before_token=!0):Q="NEWLINE":"TK_SEMICOLON"===W&&Y.mode===d.BlockStatement?Q="NEWLINE":"TK_SEMICOLON"===W&&w(Y.mode)?Q="SPACE":"TK_STRING"===W?Q="NEWLINE":"TK_RESERVED"===W||"TK_WORD"===W||"*"===Y.last_text&&"function"===G?Q="SPACE":"TK_START_BLOCK"===W?Q="NEWLINE":"TK_END_EXPR"===W&&(H.space_before_token=!0,Q="NEWLINE"),"TK_RESERVED"===V.type&&n(V.text,K.line_starters)&&")"!==Y.last_text&&(Q="else"===Y.last_text||"export"===Y.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===V.type&&n(V.text,["else","catch","finally"]))if("TK_END_BLOCK"!==W||"expand"===ee.brace_style||"end-expand"===ee.brace_style||"none"===ee.brace_style&&V.wanted_newline)f();else{H.trim(!0);var t=H.current_line;"}"!==t.last()&&f(),H.space_before_token=!0}else"NEWLINE"===Q?"TK_RESERVED"===W&&E(Y.last_text)?H.space_before_token=!0:"TK_END_EXPR"!==W?"TK_START_EXPR"===W&&"TK_RESERVED"===V.type&&n(V.text,["var","let","const"])||":"===Y.last_text||("TK_RESERVED"===V.type&&"if"===V.text&&"else"===Y.last_text?H.space_before_token=!0:f()):"TK_RESERVED"===V.type&&n(V.text,K.line_starters)&&")"!==Y.last_text&&f():Y.multiline_frame&&y(Y.mode)&&","===Y.last_text&&"}"===G?f():"SPACE"===Q&&(H.space_before_token=!0);p(),Y.last_word=V.text,"TK_RESERVED"===V.type&&"do"===V.text&&(Y.do_block=!0),"TK_RESERVED"===V.type&&"if"===V.text&&(Y.if_block=!0)}function z(){for(S()&&(H.space_before_token=!1);Y.mode===d.Statement&&!Y.if_block&&!Y.do_block;)b();p()}function L(){S()?H.space_before_token=!0:"TK_RESERVED"===W||"TK_WORD"===W?H.space_before_token=!0:"TK_COMMA"===W||"TK_START_EXPR"===W||"TK_EQUALS"===W||"TK_OPERATOR"===W?k()||u():f(),p()}function R(){S(),Y.declaration_statement&&(Y.declaration_assignment=!0),H.space_before_token=!0,p(),H.space_before_token=!0}function j(){return Y.declaration_statement?(w(Y.parent.mode)&&(Y.declaration_assignment=!1),p(),void(Y.declaration_assignment?(Y.declaration_assignment=!1,f(!1,!0)):(H.space_before_token=!0,ee.comma_first&&u()))):(p(),void(Y.mode===d.ObjectLiteral||Y.mode===d.Statement&&Y.parent.mode===d.ObjectLiteral?(Y.mode===d.Statement&&b(),f()):(H.space_before_token=!0,ee.comma_first&&u())))}function N(){if(S(),"TK_RESERVED"===W&&E(Y.last_text))return H.space_before_token=!0,void p();if("*"===V.text&&"TK_DOT"===W)return void p();if(":"===V.text&&Y.in_case)return Y.case_body=!0,g(),p(),f(),void(Y.in_case=!1);if("::"===V.text)return void p();"TK_OPERATOR"===W&&u();var e=!0,t=!0;n(V.text,["--","++","!","~"])||n(V.text,["-","+"])&&(n(W,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||n(Y.last_text,K.line_starters)||","===Y.last_text)?(e=!1,t=!1,!V.wanted_newline||"--"!==V.text&&"++"!==V.text||f(!1,!0),";"===Y.last_text&&w(Y.mode)&&(e=!0),"TK_RESERVED"===W?e=!0:"TK_END_EXPR"===W?e=!("]"===Y.last_text&&("--"===V.text||"++"===V.text)):"TK_OPERATOR"===W&&(e=n(V.text,["--","-","++","+"])&&n(Y.last_text,["--","-","++","+"]),n(V.text,["+","-"])&&n(Y.last_text,["--","++"])&&(t=!0)),Y.mode!==d.BlockStatement&&Y.mode!==d.Statement||"{"!==Y.last_text&&";"!==Y.last_text||f()):":"===V.text?0===Y.ternary_depth?e=!1:Y.ternary_depth-=1:"?"===V.text?Y.ternary_depth+=1:"*"===V.text&&"TK_RESERVED"===W&&"function"===Y.last_text&&(e=!1,t=!1),H.space_before_token=H.space_before_token||e,p(),H.space_before_token=t}function M(){if(H.raw)return H.add_raw_token(V),void(V.directives&&"end"===V.directives.preserve&&(ee.test_output_raw||(H.raw=!1)));if(V.directives)return f(!1,!0),p(),"start"===V.directives.preserve&&(H.raw=!0),void f(!1,!0);if(!acorn.newline.test(V.text)&&!V.wanted_newline)return H.space_before_token=!0,p(),void(H.space_before_token=!0);var e,t=s(V.text),n=!1,i=!1,o=V.whitespace_before,r=o.length;for(f(!1,!0),t.length>1&&(C(t.slice(1),"*")?n=!0:_(t.slice(1),o)&&(i=!0)),p(t[0]),e=1;e<t.length;e++)f(!1,!0),n?p(" "+a(t[e])):i&&t[e].length>r?p(t[e].substring(r)):H.add_token(t[e]);f(!1,!0)}function O(){V.wanted_newline?f(!1,!0):H.trim(!0),H.space_before_token=!0,p(),f(!1,!0)}function U(){S(),"TK_RESERVED"===W&&E(Y.last_text)?H.space_before_token=!0:u(")"===Y.last_text&&ee.break_chained_methods),p()}function B(){p(),"\n"===V.text[V.text.length-1]&&f()}function P(){for(;Y.mode===d.Statement;)b()}var H,$,K,V,W,G,q,Y,Z,X,Q,J,ee,te=[],ne="";for(J={TK_START_EXPR:A,TK_END_EXPR:F,TK_START_BLOCK:x,TK_END_BLOCK:D,TK_WORD:I,TK_RESERVED:I,TK_SEMICOLON:z,TK_STRING:L,TK_EQUALS:R,TK_OPERATOR:N,TK_COMMA:j,TK_BLOCK_COMMENT:M,TK_COMMENT:O,TK_DOT:U,TK_UNKNOWN:B,TK_EOF:P},t=t?t:{},ee={},void 0!==t.braces_on_own_line&&(ee.brace_style=t.braces_on_own_line?"expand":"collapse"),ee.brace_style=t.brace_style?t.brace_style:ee.brace_style?ee.brace_style:"collapse","expand-strict"===ee.brace_style&&(ee.brace_style="expand"),ee.indent_size=t.indent_size?parseInt(t.indent_size,10):4,ee.indent_char=t.indent_char?t.indent_char:" ",ee.eol=t.eol?t.eol:"\n",ee.preserve_newlines=void 0===t.preserve_newlines?!0:t.preserve_newlines,ee.break_chained_methods=void 0===t.break_chained_methods?!1:t.break_chained_methods,ee.max_preserve_newlines=void 0===t.max_preserve_newlines?0:parseInt(t.max_preserve_newlines,10),ee.space_in_paren=void 0===t.space_in_paren?!1:t.space_in_paren,ee.space_in_empty_paren=void 0===t.space_in_empty_paren?!1:t.space_in_empty_paren,ee.jslint_happy=void 0===t.jslint_happy?!1:t.jslint_happy,ee.space_after_anon_function=void 0===t.space_after_anon_function?!1:t.space_after_anon_function,ee.keep_array_indentation=void 0===t.keep_array_indentation?!1:t.keep_array_indentation,ee.space_before_conditional=void 0===t.space_before_conditional?!0:t.space_before_conditional,ee.unescape_strings=void 0===t.unescape_strings?!1:t.unescape_strings,ee.wrap_line_length=void 0===t.wrap_line_length?0:parseInt(t.wrap_line_length,10),ee.e4x=void 0===t.e4x?!1:t.e4x,ee.end_with_newline=void 0===t.end_with_newline?!1:t.end_with_newline,ee.comma_first=void 0===t.comma_first?!1:t.comma_first,ee.test_output_raw=void 0===t.test_output_raw?!1:t.test_output_raw,ee.jslint_happy&&(ee.space_after_anon_function=!0),t.indent_with_tabs&&(ee.indent_char="	",ee.indent_size=1),ee.eol=ee.eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),q="";ee.indent_size>0;)q+=ee.indent_char,ee.indent_size-=1;var ie=0;if(e&&e.length){for(;" "===e.charAt(ie)||"	"===e.charAt(ie);)ne+=e.charAt(ie),ie+=1;e=e.substring(ie)}W="TK_START_BLOCK",G="",H=new l(q,ne),H.raw=ee.test_output_raw,X=[],v(d.BlockStatement),this.beautify=function(){var t,n;for(K=new c(e,ee,q),te=K.tokenize(),$=0;t=T();){for(var i=0;i<t.comments_before.length;i++)r(t.comments_before[i]);r(t),G=Y.last_text,W=t.type,Y.last_text=t.text,$+=1}return n=H.get_code(),ee.end_with_newline&&(n+="\n"),"\n"!=ee.eol&&(n=n.replace(/[\n]/g,ee.eol)),n}}function s(e){var t=0,n=-1,i=[],a=!0;this.set_indent=function(i){t=e.baseIndentLength+i*e.indent_length,n=i},this.get_character_count=function(){return t},this.is_empty=function(){return a},this.last=function(){return this._empty?null:i[i.length-1]},this.push=function(e){i.push(e),t+=e.length,a=!1},this.pop=function(){var e=null;return a||(e=i.pop(),t-=e.length,a=0===i.length),e},this.remove_indent=function(){n>0&&(n-=1,t-=e.indent_length)},this.trim=function(){for(;" "===this.last();)i.pop(),t-=1;a=0===i.length},this.toString=function(){var t="";return this._empty||(n>=0&&(t=e.indent_cache[n]),t+=i.join("")),t}}function l(e,t){t=t||"",this.indent_cache=[t],this.baseIndentLength=t.length,this.indent_length=e.length,this.raw=!1;var n=[];this.baseIndentString=t,this.indent_string=e,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new s(this),n.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return n.length},this.add_new_line=function(e){return 1===this.get_line_number()&&this.just_added_newline()?!1:e||!this.just_added_newline()?(this.raw||this.add_outputline(),!0):!1},this.get_code=function(){var e=n.join("\n").replace(/[\r\n\t ]+$/,"");return e},this.set_indent=function(e){if(n.length>1){for(;e>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(e),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.add_outputline();this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1},this.add_token=function(e){this.add_space_before_token(),this.current_line.push(e)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_redundant_indentation=function(e){if(!e.multiline_frame&&e.mode!==d.ForInitializer&&e.mode!==d.Conditional)for(var t=e.start_line_index,i=n.length;i>t;)n[t].remove_indent(),t++},this.trim=function(i){for(i=void 0===i?!1:i,this.current_line.trim(e,t);i&&n.length>1&&this.current_line.is_empty();)n.pop(),this.current_line=n[n.length-1],this.current_line.trim();this.previous_line=n.length>1?n[n.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){if(this.just_added_newline()){if(1===n.length)return!0;var e=n[n.length-2];
return e.is_empty()}return!1}}function c(e,t,a){function o(e){if(!e.match(C))return null;var t={};_.lastIndex=0;for(var n=_.exec(e);n;)t[n[1]]=n[2],n=_.exec(e);return t}function r(){var a,r=[];if(p=0,g="",y>=w)return["","TK_EOF"];var C;C=v.length?v[v.length-1]:new u("TK_START_BLOCK","{");var _=e.charAt(y);for(y+=1;n(_,l);){if(acorn.newline.test(_)?("\n"!==_||"\r"!==e.charAt(y-2))&&(p+=1,r=[]):r.push(_),y>=w)return["","TK_EOF"];_=e.charAt(y),y+=1}if(r.length&&(g=r.join("")),c.test(_)){var A=!0,F=!0,x=c;for("0"===_&&w>y&&/[Xxo]/.test(e.charAt(y))?(A=!1,F=!1,_+=e.charAt(y),y+=1,x=/[o]/.test(e.charAt(y))?d:f):(_="",y-=1);w>y&&x.test(e.charAt(y));)_+=e.charAt(y),y+=1,A&&w>y&&"."===e.charAt(y)&&(_+=e.charAt(y),y+=1,A=!1),F&&w>y&&/[Ee]/.test(e.charAt(y))&&(_+=e.charAt(y),y+=1,w>y&&/[+-]/.test(e.charAt(y))&&(_+=e.charAt(y),y+=1),F=!1,A=!1);return[_,"TK_WORD"]}if(acorn.isIdentifierStart(e.charCodeAt(y-1))){if(w>y)for(;acorn.isIdentifierChar(e.charCodeAt(y))&&(_+=e.charAt(y),y+=1,y!==w););return"TK_DOT"===C.type||"TK_RESERVED"===C.type&&n(C.text,["set","get"])||!n(_,b)?[_,"TK_WORD"]:"in"===_?[_,"TK_OPERATOR"]:[_,"TK_RESERVED"]}if("("===_||"["===_)return[_,"TK_START_EXPR"];if(")"===_||"]"===_)return[_,"TK_END_EXPR"];if("{"===_)return[_,"TK_START_BLOCK"];if("}"===_)return[_,"TK_END_BLOCK"];if(";"===_)return[_,"TK_SEMICOLON"];if("/"===_){var D="";if("*"===e.charAt(y)){y+=1,k.lastIndex=y;var I=k.exec(e);D="/*"+I[0],y+=I[0].length;var z=o(D);return z&&"start"===z.ignore&&(E.lastIndex=y,I=E.exec(e),D+=I[0],y+=I[0].length),D=D.replace(acorn.lineBreak,"\n"),[D,"TK_BLOCK_COMMENT",z]}if("/"===e.charAt(y)){y+=1,S.lastIndex=y;var I=S.exec(e);return D="//"+I[0],y+=I[0].length,[D,"TK_COMMENT"]}}if("`"===_||"'"===_||'"'===_||("/"===_||t.e4x&&"<"===_&&e.slice(y-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/))&&("TK_RESERVED"===C.type&&n(C.text,["return","case","throw","else","do","typeof","yield"])||"TK_END_EXPR"===C.type&&")"===C.text&&C.parent&&"TK_RESERVED"===C.parent.type&&n(C.parent.text,["if","while","for"])||n(C.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var L=_,R=!1,j=!1;if(a=_,"/"===L)for(var N=!1;w>y&&(R||N||e.charAt(y)!==L)&&!acorn.newline.test(e.charAt(y));)a+=e.charAt(y),R?R=!1:(R="\\"===e.charAt(y),"["===e.charAt(y)?N=!0:"]"===e.charAt(y)&&(N=!1)),y+=1;else if(t.e4x&&"<"===L){var M=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/g,O=e.slice(y-1),U=M.exec(O);if(U&&0===U.index){for(var B=U[2],P=0;U;){var H=!!U[1],$=U[2],K=!!U[U.length-1]||"![CDATA["===$.slice(0,8);if($!==B||K||(H?--P:++P),0>=P)break;U=M.exec(O)}var V=U?U.index+U[0].length:O.length;return O=O.slice(0,V),y+=V-1,O=O.replace(acorn.lineBreak,"\n"),[O,"TK_STRING"]}}else for(;w>y&&(R||e.charAt(y)!==L&&("`"===L||!acorn.newline.test(e.charAt(y))));)(R||"`"===L)&&acorn.newline.test(e.charAt(y))?("\r"===e.charAt(y)&&"\n"===e.charAt(y+1)&&(y+=1),a+="\n"):a+=e.charAt(y),R?(("x"===e.charAt(y)||"u"===e.charAt(y))&&(j=!0),R=!1):R="\\"===e.charAt(y),y+=1;if(j&&t.unescape_strings&&(a=s(a)),w>y&&e.charAt(y)===L&&(a+=L,y+=1,"/"===L))for(;w>y&&acorn.isIdentifierStart(e.charCodeAt(y));)a+=e.charAt(y),y+=1;return[a,"TK_STRING"]}if("#"===_){if(0===v.length&&"!"===e.charAt(y)){for(a=_;w>y&&"\n"!==_;)_=e.charAt(y),a+=_,y+=1;return[i(a)+"\n","TK_UNKNOWN"]}var W="#";if(w>y&&c.test(e.charAt(y))){do _=e.charAt(y),W+=_,y+=1;while(w>y&&"#"!==_&&"="!==_);return"#"===_||("["===e.charAt(y)&&"]"===e.charAt(y+1)?(W+="[]",y+=2):"{"===e.charAt(y)&&"}"===e.charAt(y+1)&&(W+="{}",y+=2)),[W,"TK_WORD"]}}if("<"===_&&("?"===e.charAt(y)||"%"===e.charAt(y))){T.lastIndex=y-1;var G=T.exec(e);if(G)return _=G[0],y+=_.length-1,_=_.replace(acorn.lineBreak,"\n"),[_,"TK_STRING"]}if("<"===_&&"<!--"===e.substring(y-1,y+3)){for(y+=3,_="<!--";!acorn.newline.test(e.charAt(y))&&w>y;)_+=e.charAt(y),y++;return m=!0,[_,"TK_COMMENT"]}if("-"===_&&m&&"-->"===e.substring(y-1,y+2))return m=!1,y+=2,["-->","TK_COMMENT"];if("."===_)return[_,"TK_DOT"];if(n(_,h)){for(;w>y&&n(_+e.charAt(y),h)&&(_+=e.charAt(y),y+=1,!(y>=w)););return","===_?[_,"TK_COMMA"]:"="===_?[_,"TK_EQUALS"]:[_,"TK_OPERATOR"]}return[_,"TK_UNKNOWN"]}function s(e){for(var t,n=!1,i="",a=0,o="",r=0;n||a<e.length;)if(t=e.charAt(a),a++,n){if(n=!1,"x"===t)o=e.substr(a,2),a+=2;else{if("u"!==t){i+="\\"+t;continue}o=e.substr(a,4),a+=4}if(!o.match(/^[0123456789abcdefABCDEF]+$/))return e;if(r=parseInt(o,16),r>=0&&32>r){i+="x"===t?"\\x"+o:"\\u"+o;continue}if(34===r||39===r||92===r)i+="\\"+String.fromCharCode(r);else{if("x"===t&&r>126&&255>=r)return e;i+=String.fromCharCode(r)}}else"\\"===t?n=!0:i+=t;return i}var l="\n\r	 ".split(""),c=/[0-9]/,d=/[01234567]/,f=/[0123456789abcdefABCDEF]/,h="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! ~ , : ? ^ ^= |= :: =>".split(" ");this.line_starters="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");var p,g,m,v,y,w,b=this.line_starters.concat(["do","in","else","get","set","new","catch","finally","typeof","yield","async","await"]),k=/([\s\S]*?)((?:\*\/)|$)/g,S=/([^\n\r\u2028\u2029]*)/g,C=/\/\* beautify( \w+[:]\w+)+ \*\//g,_=/ (\w+)[:](\w+)/g,E=/([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g,T=/((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g;this.tokenize=function(){w=e.length,y=0,m=!1,v=[];for(var t,n,i,a=null,o=[],s=[];!n||"TK_EOF"!==n.type;){for(i=r(),t=new u(i[1],i[0],p,g);"TK_COMMENT"===t.type||"TK_BLOCK_COMMENT"===t.type||"TK_UNKNOWN"===t.type;)"TK_BLOCK_COMMENT"===t.type&&(t.directives=i[2]),s.push(t),i=r(),t=new u(i[1],i[0],p,g);s.length&&(t.comments_before=s,s=[]),"TK_START_BLOCK"===t.type||"TK_START_EXPR"===t.type?(t.parent=n,o.push(a),a=t):("TK_END_BLOCK"===t.type||"TK_END_EXPR"===t.type)&&a&&("]"===t.text&&"["===a.text||")"===t.text&&"("===a.text||"}"===t.text&&"{"===a.text)&&(t.parent=a.parent,a=o.pop()),v.push(t),n=t}return v}}var d={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"},u=function(e,t,n,i,a,o){this.type=e,this.text=t,this.comments_before=[],this.newlines=n||0,this.wanted_newline=n>0,this.whitespace_before=i||"",this.parent=null,this.directives=null};return{run:e}}});