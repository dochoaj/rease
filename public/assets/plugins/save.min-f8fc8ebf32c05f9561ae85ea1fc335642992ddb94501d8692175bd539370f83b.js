/*!
 * froala_editor v2.0.1 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(e){"function"==typeof define&&define.amd?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){"use strict";e.extend(e.FroalaEditor.DEFAULTS,{saveInterval:1e3,saveURL:null,saveParams:{},saveParam:"body",saveMethod:"POST"}),e.FroalaEditor.PLUGINS.save=function(t){function n(e,n){t.events.trigger("save.error",[{code:e,message:p[e]},n])}function i(i){if("undefined"==typeof i&&(i=t.html.get()),t.events.trigger("save.before")===!1)return!1;if(t.opts.saveURL){var a={};for(var o in t.opts.saveParams){var r=t.opts.saveParams[o];"function"==typeof r?a[o]=r.call(this):a[o]=r}var s={};s[t.opts.saveParam]=i,e.ajax({type:t.opts.saveMethod,url:t.opts.saveURL,data:e.extend(s,a),crossDomain:t.opts.requestWithCORS,xhrFields:{withCredentials:t.opts.requestWithCORS},headers:t.opts.requestHeaders}).done(function(e){t.events.trigger("save.after",[e])}).fail(function(e){n(f,e.response)})}else n(u)}function a(){clearTimeout(l),l=setTimeout(function(){var e=t.html.get();(c!=e||d)&&(c=e,d=!1,i(e))},t.opts.saveInterval)}function o(){a(),d=!1}function r(){d=!0}function s(){t.opts.saveInterval&&(c=t.html.get(),t.events.on("contentChanged",a),t.events.on("keydown",function(){clearTimeout(l)}))}var l=null,c=null,d=!1,u=1,f=2,p={};return p[u]="Missing saveURL option.",p[f]="Something went wrong during save.",{_init:s,save:i,reset:o,force:r}},e.FroalaEditor.DefineIcon("save",{NAME:"floppy-o"}),e.FroalaEditor.RegisterCommand("save",{title:"Save",undo:!1,focus:!1,refreshAfterCallback:!1,callback:function(){this.save.save()}})});